Version 4
SHEET 1 1904 1580
WIRE -608 -192 -640 -192
WIRE -96 -192 -608 -192
WIRE -96 -144 -96 -192
WIRE -640 -64 -640 -192
WIRE -192 -64 -224 -64
WIRE -144 -64 -192 -64
WIRE -192 80 -224 80
WIRE -96 80 -96 -48
WIRE -96 80 -192 80
WIRE -16 80 -96 80
WIRE 176 80 16 80
WIRE 304 80 256 80
WIRE 448 80 384 80
WIRE 544 80 448 80
WIRE 576 80 544 80
WIRE 752 80 576 80
WIRE -640 96 -640 16
WIRE 448 144 448 80
WIRE 0 176 0 96
WIRE 48 176 0 176
WIRE 176 176 48 176
WIRE 576 176 576 80
WIRE -96 192 -96 80
WIRE 448 240 448 208
WIRE -640 368 -640 176
WIRE -96 368 -96 256
WIRE -96 368 -640 368
WIRE 448 368 448 320
WIRE 448 368 -96 368
WIRE 576 368 576 256
WIRE 576 368 448 368
WIRE -640 416 -640 368
WIRE 0 560 -64 560
WIRE 48 560 0 560
WIRE 352 560 256 560
WIRE 384 560 352 560
WIRE -304 592 -400 592
WIRE 48 592 -304 592
WIRE 352 592 256 592
WIRE 384 592 352 592
WIRE 48 624 -272 624
WIRE 352 624 256 624
WIRE 384 624 352 624
WIRE 48 656 0 656
WIRE 352 656 256 656
WIRE 384 656 352 656
WIRE -464 752 -624 752
WIRE -272 752 -272 624
WIRE -272 752 -384 752
WIRE -272 816 -272 752
WIRE -224 816 -272 816
WIRE -112 816 -144 816
WIRE 0 816 0 656
WIRE 0 816 -48 816
WIRE -624 912 -624 752
WIRE 752 912 752 80
WIRE 752 912 -624 912
FLAG -640 416 0
FLAG 544 80 out
FLAG -608 -192 in
FLAG 48 176 isense
FLAG -192 -64 gate
FLAG -192 80 source
FLAG -304 592 vref
FLAG 352 624 gate
FLAG 352 656 source
FLAG 0 560 isense
FLAG 352 560 isensa
FLAG 352 592 clk
SYMBOL ind 288 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL cap 432 144 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 560 160 R0
SYMATTR InstName R1
SYMATTR Value 5
SYMBOL voltage -640 -80 R0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL res 272 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 50m
SYMBOL res 432 224 R0
SYMATTR InstName R3
SYMATTR Value 200m
SYMBOL Control\\isense 0 80 R0
WINDOW 0 0 -28 Bottom 2
SYMATTR InstName U4
SYMBOL nmos -144 -144 R0
SYMATTR InstName M1
SYMATTR Value IRF530
SYMBOL Control\\idiode -80 256 R180
WINDOW 3 22 -23 Left 2
WINDOW 123 19 -46 Left 2
SYMATTR InstName U1
SYMBOL voltage -640 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3 1m 100n 100n 100m 1s)
SYMBOL Control\\constant -432 592 R0
WINDOW 3 -8 62 Bottom 2
SYMATTR Value K=5
SYMATTR InstName U2
SYMBOL MyCMC 128 656 R0
WINDOW 3 -79 36 Left 2
WINDOW 123 -77 60 Left 2
WINDOW 39 -79 86 Left 2
SYMATTR InstName U3
SYMBOL res -368 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 16k
SYMBOL res -128 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 16k
SYMBOL cap -48 800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
TEXT 72 -56 Left 2 !.tran 0 1.5m 0 0.1u uic
TEXT 80 -96 Left 2 !.options reltol=10m
TEXT 24 472 Left 2 ;Current-Mode Controller
