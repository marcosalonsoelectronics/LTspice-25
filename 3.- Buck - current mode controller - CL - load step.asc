Version 4
SHEET 1 1904 1580
WIRE -544 -192 -576 -192
WIRE -96 -192 -544 -192
WIRE -96 -144 -96 -192
WIRE -192 -64 -224 -64
WIRE -144 -64 -192 -64
WIRE -576 16 -576 -192
WIRE -192 80 -224 80
WIRE -96 80 -96 -48
WIRE -96 80 -192 80
WIRE -16 80 -96 80
WIRE 176 80 16 80
WIRE 304 80 256 80
WIRE 448 80 384 80
WIRE 544 80 448 80
WIRE 576 80 544 80
WIRE 752 80 576 80
WIRE 1152 80 752 80
WIRE 752 96 752 80
WIRE 448 144 448 80
WIRE 0 176 0 96
WIRE 48 176 0 176
WIRE 176 176 48 176
WIRE 576 176 576 80
WIRE -96 192 -96 80
WIRE 752 208 752 176
WIRE 448 240 448 208
WIRE 880 256 800 256
WIRE -576 368 -576 96
WIRE -96 368 -96 256
WIRE -96 368 -576 368
WIRE 448 368 448 320
WIRE 448 368 -96 368
WIRE 576 368 576 256
WIRE 576 368 448 368
WIRE 752 368 752 304
WIRE 752 368 576 368
WIRE -576 416 -576 368
WIRE 112 544 48 544
WIRE 160 544 112 544
WIRE 464 544 368 544
WIRE 496 544 464 544
WIRE -192 576 -288 576
WIRE 160 576 -192 576
WIRE 464 576 368 576
WIRE 496 576 464 576
WIRE 160 608 -160 608
WIRE 464 608 368 608
WIRE 496 608 464 608
WIRE 160 640 112 640
WIRE 464 640 368 640
WIRE 496 640 464 640
WIRE -352 736 -432 736
WIRE -160 736 -160 608
WIRE -160 736 -272 736
WIRE -160 800 -160 736
WIRE -112 800 -160 800
WIRE 0 800 -32 800
WIRE 112 800 112 640
WIRE 112 800 64 800
WIRE -432 912 -432 736
WIRE 1152 912 1152 80
WIRE 1152 912 -432 912
FLAG -576 416 0
FLAG 544 80 out
FLAG -544 -192 in
FLAG 48 176 isense
FLAG -192 -64 gate
FLAG -192 80 source
FLAG -192 576 vref
FLAG 464 608 gate
FLAG 464 640 source
FLAG 112 544 isense
FLAG 464 544 isensa
FLAG 464 576 clk
SYMBOL ind 288 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL cap 432 144 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 560 160 R0
SYMATTR InstName R1
SYMATTR Value 5
SYMBOL voltage -576 0 R0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL res 272 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 50m
SYMBOL res 432 224 R0
SYMATTR InstName R3
SYMATTR Value 200m
SYMBOL Control\\isense 0 80 R0
WINDOW 0 0 -28 Bottom 2
SYMATTR InstName U4
SYMBOL nmos -144 -144 R0
SYMATTR InstName M1
SYMATTR Value IRF530
SYMBOL Control\\idiode -80 256 R180
WINDOW 3 24 -28 Left 2
WINDOW 123 24 -56 Left 2
SYMATTR InstName U1
SYMBOL Control\\switch 752 256 M0
SYMATTR InstName U3
SYMBOL res 736 80 R0
SYMATTR InstName R6
SYMATTR Value 5
SYMBOL Control\\step 912 256 R180
WINDOW 3 -2 -66 Bottom 2
WINDOW 123 -2 -94 Bottom 2
SYMATTR Value2 td=1m SR=1e8
SYMATTR InstName U5
SYMBOL Control\\constant -320 576 R0
WINDOW 3 -8 62 Bottom 2
SYMATTR Value K=5
SYMATTR InstName U6
SYMBOL MyCMC 240 640 R0
WINDOW 3 -79 36 Left 2
WINDOW 123 -77 60 Left 2
WINDOW 39 -79 86 Left 2
SYMATTR InstName U7
SYMBOL res -256 720 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 16k
SYMBOL res -16 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 16k
SYMBOL cap 64 784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10n
TEXT 72 -56 Left 2 !.tran 0 2m 0 0.1u uic
TEXT 80 -96 Left 2 !.options reltol=10m
TEXT 136 456 Left 2 ;Current-Mode Controller
